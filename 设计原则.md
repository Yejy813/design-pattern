一. 设计原则

1. 依赖倒置原则（该设计原则非常依赖于提取抽象类）
-   a. 高层模块(稳定)不应该依赖于低层模块(变化)，二者都应该依赖于抽象(稳定)。
-   b. 抽象(稳定)不应该依赖于实现细节(变化)，实现细节应该依赖于抽象(稳定)。

2. 开放封闭原则 (OCP) （面对变化，我们应该考虑去增加一些东西(类、模块)来应对，而不是去修改原来的，可以保证代码框架的稳定性）
-   a. 对扩展开放，对更改封闭。
-   b. 类模块应该是可扩展的，但是不可修改。

3. 单一职责原则 (SRP)
-   a. 一个类应该仅有一个引起它变化的原因。
-   b. 变化的方向隐含着类的责任。

4. 里式替换原则 (LSP) （所有需要父类的地方，子类都可以传过去使用，继承必须明确确保超类（父类）所拥有的性质在子类中仍然成立。）
-    a. 子类必须能够替换它们的基类 (IS-A)。
-    b. 继承表达类型抽象。

5. 接口隔离原则 (ISP)
-    a. 不应该强迫客户程序依赖它们不用的方法。
-    b. 接口应该小而完备。

6. 迪米特法则 
-    a. 一个对象应该对其他对象保持最少的了解
-    b. 迪米特法则不希望类之间建立直接的联系。如果真的有需要建立联系，也希望能通过它的友元类来转达

7. 优先使用对象组合，而不是类继承
-    a. 类继承通常为 “白箱复用”，对象组合通常为“黑箱复用”
-    b. 继承在某种程度上破坏了封装性，子类父类耦合度高。
-    c. 而对象组合则只要求被组合的对象具有良好定义的接口，耦合度低。

8. 封装变化点
-     a. 使用封装来创建对象之间的分界层，让设计者可以在分界层的一侧进行修改，而不会对另一侧产生不良的影响，从而实现层次间的松耦合。

9. 针对接口编程，而不是针对实现编程
-     a. 不将变量类型声明为某个特定的具体类，而是声明为某个接口。
-     b. 客户程序无需获知对象的具体类型，只需要知道对象所具有的接口。
-     c. 减少系统中各部分的依赖关系，从而实现 “高内聚，松耦合”的类型设计方案。


二. 将设计原则提升为设计经验

1. 设计习语 Design Idioms （包括 effective C++ 系列书籍）
-    Design Idioms 描述与特定编程语言相关的低层模式、技巧、惯用法。

2. 设计模式 Degin Patterns （设计模式，解决变化中的复用性问题）
-    Degin Patterns 主要描述的是 “类与相互通信的对象之间的组织关系”，包括它们的角色、职责、协作方式等方面。

3. 架构模式 Architectural Patterns
-     Architectural Patterns 描述系统中与基本结构组织关系密切的高层模式，包括子系统划分、职责、以及如何组织它们之间关系的规则。


三. 模式分类

1. 创建型 （Creational）模式： 将对象的部分创建工作延迟到子类或者其他对象，从而应对需求变化为对象创建时具体类型实现引来的冲击。
 
2. 结构型 （Structural）模式：通过类继承或者对象组合来获得更灵活的结构，从而应对需求变化为对象的结构带来的冲击。

3. 行为型（Behavioral）模式： 通过类继承或者对象组合来划分类与对象间的职责，从而应对需求变化为多个交互对象带来的冲击。


四. 重构获得模式 （Refactoring to patterns）

- 面向对象设计模式是“好的面向对象设计”，所谓 “好的面向对象设计”指的是那些可以满足 “应对变化、提高复用”的设计模式。

- 现代软件设计的特征是 “需求的频繁变化”。设计模式的要点是 "寻找变化点，然后在变化点处应用设计模式，从而来更好地应对需求变化”，“什么时候”，“什么地点应用设计模式”比“理解设计模式结构本身” 更为重要。

- 设计模式的应用不宜先入为主，一上来就使用设计模式是对设计模式的最大误用。没有一步到位的设计模式。敏捷软件开发实践提倡的"Refactoring to patterns" 是目前普遍公认的最好的使用设计模式的方法。

五. 重构关键技法

- 静态 -> 动态

- 早绑定 -> 晚绑定 （程序库调用时早绑定； 框架是晚绑定，像Qt，android 等一些 UI 框架，非常多框架属于晚绑定，属于模板模式）

- 继承 -> 组合

- 编译时依赖 -> 运行时依赖

- 紧耦合 -> 松耦合





